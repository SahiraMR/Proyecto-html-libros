{% extends "base.html" %}
{% block title %}Editar Comentario{% endblock %}

{% block content %}
<!-- Contenedor principal con posición relativa -->
<section class="nes-container with-title borde-rojo-animado mt-4" style="color: white; position: relative;">
  <h2 class="title flex items-center gap-2" style="color: black; background-color: white; padding: 4px; border-radius: 8px;">
    <img src="/static/icons/kirby.png" alt="Kirby" style="width: 32px;" class="icono-flotante brillo-rojo">
    ✏️ Editar Comentario
  </h2>

  <form method="post" class="mt-4">
    <!-- Libro -->
    <div class="nes-field mb-4">
      <label for="libro_id" style="color: white;">📚 Libro</label>
      <div class="nes-select">
        <select id="libro_id" name="libro_id" required>
          {% for libro in libros %}
            <option value="{{ libro.id }}" {% if libro.id == comentario.libro_id %}selected{% endif %}>
              {{ libro.titulo }}
            </option>
          {% endfor %}
        </select>
      </div>
    </div>

    <!-- Usuario -->
    <div class="nes-field mb-4">
      <label for="usuario" style="color: white;">👤 Usuario</label>
      <input type="text" id="usuario" name="usuario" class="nes-input is-success" value="{{ comentario.usuario }}" required>
    </div>

    <!-- Comentario -->
    <div class="nes-field mb-4">
      <label for="contenido" style="color: white;">📝 Comentario</label>
      <textarea id="contenido" name="contenido" class="nes-textarea is-dark" rows="4" required>{{ comentario.contenido }}</textarea>
    </div>

    <!-- Fecha -->
    <div class="nes-field mb-4">
      <label for="fecha" style="color: white;">📅 Fecha</label>
      <input type="date" id="fecha" name="fecha" class="nes-input is-warning" value="{{ comentario.fecha }}" required>
    </div>

    <!-- Botones -->
    <div class="flex mt-4" style="gap: 1rem;">
      <button type="submit" class="nes-btn is-primary btn-rojo-animado">💾 Actualizar</button>
      <a href="/comentarios" class="nes-btn is-error btn-rojo-animado">❌ Cancelar</a>
    </div>
  </form>

  <!-- Íconos flotantes decorativos en las esquinas -->
  <img src="/static/icons/kirby.png" alt="Kirby" class="icono-flotante brillo-rojo" style="width: 64px; position: absolute; bottom: 16px; left: 16px;">
  <img src="/static/icons/pokeball.png" alt="Pokebola" class="icono-flotante brillo-rojo" style="width: 64px; position: absolute; bottom: 16px; right: 16px;">
</section>
{% endblock %}
